<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Article</title>
</head>

<body>
    <div id="title">
        <h1></h1>
    </div>
    <div id="articleInfo">
        <h3 id="author"></h3>
        <h4 id="postTime"></h4>
    </div>
    <div id="content"></div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function () {
            $.ajax({
                url: `QueryArticleByNumber`,
                dataType: 'json',
                success: function (json) {
                    let content = document.querySelector("#content");
                    document.querySelector("#title > h1").innerHTML = `${json.title}`;

                    document.querySelector("#articleInfo > #author").innerHTML = `作者: ${json.author}`;

                    let postTime = new Date(json.postTime);
                    document.querySelector("#articleInfo > #postTime").innerHTML = `發文時間: ${postTime}`;

                    let docFrag = document.createDocumentFragment();
                    let p;

                    for (let content of json.contentList) {
                        p = document.createElement("p");
                        p.innerHTML = `${content.paragraph}`;
                        docFrag.appendChild(p);
                    }

                    content.appendChild(docFrag);

                }
            });
        })
    </script>
</body>

</html>